<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta name="description" content="Ù…ØªØ¬Ø±Ùƒ - Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ù…Ø¹ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© ÙˆØ¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨">
    <meta name="theme-color" content="#2c3e50">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">Ù…ØªØ¬Ø±Ùƒ | Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©</title>
    
    <!-- âœ… Ø§Ù„Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ© -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        /* Ø¥Ø¶Ø§ÙØ© ØªÙŠÙƒØ± (Laufband) ÙÙŠ Ø§Ù„Ù‡ÙŠØ¯Ø± */
        .header-ticker {
            background: linear-gradient(135deg, var(--secondary-color), var(--secondary-light));
            color: white;
            padding: 10px 0;
            position: fixed;
            top: 80px;
            right: 0;
            left: 0;
            z-index: 999;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            display: none;
        }
        
        .ticker-container {
            display: flex;
            align-items: center;
            padding: 0 var(--space-lg);
            white-space: nowrap;
        }
        
        .ticker-label {
            background-color: rgba(255, 255, 255, 0.2);
            padding: 4px 12px;
            border-radius: 20px;
            margin-left: 15px;
            font-weight: 600;
            font-size: 12px;
            flex-shrink: 0;
        }
        
        .ticker-message {
            flex: 1;
            overflow: hidden;
        }
        
        .ticker-text {
            display: inline-block;
            padding-left: 100%;
            animation: ticker 30s linear infinite;
            font-size: 14px;
        }
        
        @keyframes ticker {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }
        
        /* ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ Ù„ÙŠØ£Ø®Ø° Ø§Ù„ØªÙŠÙƒØ± ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± */
        body {
            padding-top: 80px;
        }
        
        body.has-ticker {
            padding-top: 120px; /* 80px Ù„Ù„Ù‡ÙŠØ¯Ø± + 40px Ù„Ù„ØªÙŠÙƒØ± */
        }
        
        /* Ø¨Ù‚ÙŠØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· ÙƒÙ…Ø§ Ù‡ÙŠ */
        :root {
            --primary-color: #2c3e50;
            --primary-light: #4a6583;
            --secondary-color: #e67e22;
            --secondary-light: #f39c12;
            --accent-color: #27ae60;
            --accent-light: #2ecc71;
            --danger-color: #c0392b;
            --danger-light: #e74c3c;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
            --gray-color: #95a5a6;
            --border-color: #e0e0e0;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.08);
            --shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
            --shadow-card: 0 6px 16px rgba(0,0,0,0.08);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            --radius-circle: 50%;
            --font-xs: 0.75rem;
            --font-sm: 0.875rem;
            --font-md: 1rem;
            --font-lg: 1.125rem;
            --font-xl: 1.25rem;
            --font-2xl: 1.5rem;
            --font-3xl: 1.875rem;
            --space-xs: 0.5rem;
            --space-sm: 0.75rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f8f9fa;
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 var(--space-lg);
        }
        
        /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
        header {
            background-color: var(--primary-color);
            color: white;
            padding: 0 var(--space-lg);
            position: fixed;
            top: 0;
            right: 0;
            left: 0;
            z-index: 1000;
            box-shadow: var(--shadow-md);
            height: 80px;
            display: flex;
            align-items: center;
        }
        
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        .logo-icon {
            background-color: var(--secondary-color);
            width: 40px;
            height: 40px;
            border-radius: var(--radius-circle);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            overflow: hidden;
        }
        
        .logo-text h1 {
            font-size: var(--font-xl);
            font-weight: 800;
            margin-bottom: 2px;
        }
        
        .logo-text p {
            font-size: var(--font-xs);
            opacity: 0.8;
            font-weight: 300;
        }
        
        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„ */
        .nav-menu {
            display: flex;
            align-items: center;
            gap: var(--space-lg);
        }
        
        .nav-item {
            position: relative;
        }
        
        .nav-link {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            padding: var(--space-sm) 0;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        
        .nav-link:hover, .nav-link.active {
            color: white;
        }
        
        /* Ø²Ø± Ø§Ù„Ø³Ù„Ø© */
        .cart-icon-container {
            position: relative;
            cursor: pointer;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: var(--radius-circle);
            background-color: rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        .cart-badge {
            position: absolute;
            top: -6px;
            left: -6px;
            background-color: var(--secondary-color);
            color: white;
            border-radius: var(--radius-circle);
            width: 22px;
            height: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--font-xs);
            font-weight: 700;
        }
        
        /* Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø© */
        .mobile-toggle {
            display: none;
            background: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ */
        .main-content {
            min-height: calc(100vh - 80px);
            padding: var(--space-2xl) 0;
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: var(--space-lg);
            margin-bottom: var(--space-2xl);
        }
        
        /* ÙƒØ§Ø±Øª Ø§Ù„Ù…Ù†ØªØ¬ */
        .product-card {
            background-color: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-card);
            transition: all 0.3s ease;
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
        }
        
        .product-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }
        
        .product-image-container {
            position: relative;
            height: 180px;
            overflow: hidden;
        }
        
        .product-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }
        
        .product-card:hover .product-image {
            transform: scale(1.05);
        }
        
        .product-badges {
            position: absolute;
            top: var(--space-sm);
            right: var(--space-sm);
            display: flex;
            flex-direction: column;
            gap: var(--space-xs);
            z-index: 2;
        }
        
        .discount-badge {
            background-color: var(--danger-color);
            color: white;
            padding: 4px 10px;
            border-radius: var(--radius-sm);
            font-size: var(--font-xs);
            font-weight: 700;
            text-align: center;
        }
        
        .bundle-badge {
            background-color: var(--accent-color);
            color: white;
            padding: 4px 10px;
            border-radius: var(--radius-sm);
            font-size: var(--font-xs);
            font-weight: 700;
            text-align: center;
            white-space: nowrap;
        }
        
        .inactive-badge {
            background-color: var(--dark-color);
            color: white;
            padding: 4px 10px;
            border-radius: var(--radius-sm);
            font-size: var(--font-xs);
            font-weight: 700;
            text-align: center;
        }
        
        .product-info {
            padding: var(--space-lg);
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .product-title {
            font-size: var(--font-lg);
            font-weight: 700;
            margin-bottom: var(--space-xs);
            color: var(--primary-color);
        }
        
        .product-desc {
            color: var(--gray-color);
            font-size: var(--font-sm);
            margin-bottom: var(--space-md);
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .product-size {
            font-size: var(--font-sm);
            color: var(--dark-color);
            margin-bottom: var(--space-sm);
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .price-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
            margin-top: auto;
        }
        
        .price-wrapper {
            display: flex;
            flex-direction: row;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
            width: 100%;
            margin-bottom: var(--space-sm);
        }
        
        .price-old {
            text-decoration: line-through;
            color: var(--gray-color);
            font-size: var(--font-sm);
        }
        
        .price-new {
            font-weight: 800;
            font-size: var(--font-xl);
            color: var(--primary-color);
        }
        
        .price-new.has-discount {
            color: var(--danger-color);
        }
        
        /* Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø³Ù„Ø© */
        .add-btn {
            background-color: var(--primary-color);
            color: white;
            padding: var(--space-md);
            border-radius: var(--radius-md);
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: var(--space-xs);
            transition: all 0.3s ease;
            width: 100%;
            min-height: 44px;
            cursor: pointer;
        }
        
        .add-btn:hover {
            background-color: var(--primary-light);
        }
        
        .add-btn:disabled {
            background-color: var(--gray-color);
            cursor: not-allowed;
        }
        
        /* Ø­Ø§Ù„Ø§Øª Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ§Ù„Ø£Ø®Ø·Ø§Ø¡ */
        .loading {
            text-align: center;
            padding: var(--space-2xl);
            font-size: var(--font-lg);
            color: var(--gray-color);
        }
        
        .loading-spinner {
            display: inline-block;
            width: 50px;
            height: 50px;
            border: 4px solid rgba(44, 62, 80, 0.1);
            border-radius: var(--radius-circle);
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
            margin-bottom: var(--space-lg);
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .error-message {
            background-color: rgba(231, 76, 60, 0.1);
            border-right: 4px solid var(--danger-light);
            color: var(--danger-light);
            padding: var(--space-lg);
            border-radius: var(--radius-md);
            margin: var(--space-xl) auto;
            max-width: 600px;
            text-align: center;
        }
        
        /* Ø§Ù„ÙÙˆØªØ± */
        footer {
            background-color: var(--primary-color);
            color: white;
            padding: var(--space-2xl) 0 var(--space-xl);
            margin-top: auto;
        }
        
        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: var(--space-xl);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
            font-size: var(--font-sm);
        }
        
        /* Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            justify-content: flex-end;
            align-items: flex-end;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: white;
            height: 85vh;
            width: 100%;
            border-radius: var(--radius-xl) var(--radius-xl) 0 0;
            display: flex;
            flex-direction: column;
            animation: slideIn 0.3s ease;
            position: relative;
        }
        
        @keyframes slideIn {
            from { transform: translateY(100%); }
            to { transform: translateY(0); }
        }
        
        /* Ø²Ø± Ø§Ù„ÙØ§Ø¨ */
        .fab {
            position: fixed;
            bottom: var(--space-xl);
            left: var(--space-xl);
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--secondary-color), var(--secondary-light));
            color: white;
            border-radius: var(--radius-circle);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            z-index: 999;
            transition: all 0.3s ease;
        }
        
        .fab:hover {
            transform: translateY(-5px) scale(1.05);
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ù‡ÙˆØ§ØªÙ */
        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 80px;
                right: -100%;
                width: 80%;
                height: calc(100vh - 80px);
                background-color: var(--primary-color);
                flex-direction: column;
                align-items: flex-start;
                padding: var(--space-xl);
                transition: right 0.3s ease;
                z-index: 999;
                box-shadow: var(--shadow-lg);
            }
            
            .nav-menu.active {
                right: 0;
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 10px;
            }
            
            .product-card {
                min-height: 280px;
            }
            
            .product-image-container {
                height: 120px;
            }
            
            .fab {
                width: 50px;
                height: 50px;
                bottom: var(--space-lg);
                left: var(--space-lg);
            }
        }
    </style>
</head>
<body>
    <!-- ğŸ¨ Ø§Ù„Ù‡ÙŠØ¯Ø± -->
    <header>
        <div class="header-container">
            <!-- Ø§Ù„Ø´Ø¹Ø§Ø± -->
            <div class="logo">
                <div class="logo-icon" id="logo-icon">
                    <!-- Ø³ÙŠØªÙ… ØªØ¹Ø¨Ø¦ØªÙ‡ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
                <div class="logo-text">
                    <h1 id="store-name">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h1>
                    <p id="store-slogan">Ù…ØªØ¬Ø±Ùƒ Ø§Ù„Ø´Ø®ØµÙŠ</p>
                </div>
            </div>
            
            <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
            <nav class="nav-menu" id="navMenu">
                <div class="nav-item">
                    <a href="#" class="nav-link active" data-page="home">
                        <i class="fas fa-home"></i>
                        <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-page="offers">
                        <i class="fas fa-percentage"></i>
                        <span>Ø§Ù„Ø¹Ø±ÙˆØ¶</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-page="about">
                        <i class="fas fa-info-circle"></i>
                        <span>Ø­ÙˆÙ„Ù†Ø§</span>
                    </a>
                </div>
                <div class="nav-item">
                    <a href="#" class="nav-link" data-page="contact">
                        <i class="fas fa-address-book"></i>
                        <span>Ø§ØªØµÙ„ Ø¨Ù†Ø§</span>
                    </a>
                </div>
            </nav>
            
            <!-- Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª -->
            <div class="cart-icon-container" onclick="openCart()">
                <i class="fas fa-shopping-cart"></i>
                <span id="cart-badge" class="cart-badge">0</span>
            </div>
            
            <!-- Ø²Ø± Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªÙ†Ù‚Ù„Ø© -->
            <button class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>
    
    <!-- ğŸ¨ ØªÙŠÙƒØ± Ø§Ù„Ø±Ø³Ø§Ù„Ø© -->
    <div class="header-ticker" id="header-ticker">
        <div class="ticker-container">
            <div class="ticker-label">
                <i class="fas fa-bullhorn"></i> ØªÙ†Ø¨ÙŠÙ‡
            </div>
            <div class="ticker-message">
                <div class="ticker-text" id="ticker-text"></div>
            </div>
        </div>
    </div>
    
    <!-- ğŸ¨ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main class="main-content">
        <!-- ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
        <section id="home-page" class="page active">
            <div class="container">
                <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£ -->
                <div id="error-container"></div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„ØªØµÙÙŠØ© Ø¨Ø§Ù„ÙØ¦Ø§Øª -->
                <div id="category-nav" class="category-nav" style="display:none;"></div>
                
                <!-- Ø­Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
                <div id="loading" class="loading">
                    <div class="loading-spinner"></div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ØªØ¬Ø± ÙˆØ§Ù„Ù…Ù†ØªØ¬Ø§Øª...</p>
                </div>
                
                <!-- Ø´Ø¨ÙƒØ© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
                <div id="products-grid" class="products-grid"></div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© -->
                <div class="admin-toggle" id="inactive-toggle" style="display:none;">
                    <button class="toggle-inactive-btn" onclick="toggleInactive()">
                        <i class="fas fa-eye-slash"></i> Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø©
                    </button>
                </div>
                
                <div id="inactive-section" class="inactive-section" style="display:none;">
                    <div class="section-header">
                        <h2>â›” Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© / Ù†ÙØ°Øª Ø§Ù„ÙƒÙ…ÙŠØ©</h2>
                        <p>Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ù…ØªÙˆÙØ±Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§ Ù„Ù„Ø·Ù„Ø¨</p>
                    </div>
                    <div id="inactive-grid" class="products-grid"></div>
                </div>
            </div>
        </section>
        
        <!-- ØµÙØ­Ø© Ø­ÙˆÙ„Ù†Ø§ -->
        <section id="about-page" class="page">
            <div class="container">
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ -->
                <div class="about-hero">
                    <div class="about-hero-content">
                        <h1 id="about-title">Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ Ù…ØªØ¬Ø±Ùƒ ğŸ›’</h1>
                        <p id="about-description">Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø·Ø¹Ù… Ø§Ù„Ø£ØµÙ„ÙŠ.</p>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª -->
                <div class="section-header">
                    <h2>Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± Ù…ØªØ¬Ø±Ù†Ø§ØŸ</h2>
                    <p>Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªÙŠ ØªØ¬Ø¹Ù„Ù†Ø§ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„ Ù„Ù„ØªÙ…ÙˆÙŠÙ† Ø§Ù„ØºØ°Ø§Ø¦ÙŠ</p>
                </div>
                
                <div class="about-features">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-award"></i>
                        </div>
                        <h3>Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©</h3>
                        <p>Ù†Ø®ØªØ§Ø± Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø¨Ø¹Ù†Ø§ÙŠØ© ÙØ§Ø¦Ù‚Ø© Ù…Ù† Ø£ÙØ¶Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© ÙˆØ§Ù„Ù…Ø­Ù„ÙŠØ©ØŒ Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø·Ø§Ø²Ø¬Ø©.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <h3>ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹</h3>
                        <p>Ù†ÙˆØµÙ„ Ø·Ù„Ø¨Ø§ØªÙƒÙ… ÙÙŠ Ø£Ø³Ø±Ø¹ ÙˆÙ‚Øª Ù…Ù…ÙƒÙ†ØŒ Ù…Ø¹ Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„Ø·Ù„Ø¨Ø§Øª ÙÙˆÙ‚ Ù…Ø¨Ù„Øº Ù…Ø¹ÙŠÙ†.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <h3>Ø£Ø³Ø¹Ø§Ø± Ù…Ù†Ø§ÙØ³Ø©</h3>
                        <p>Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£ÙØ¶Ù„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ø¹ Ø¹Ø±ÙˆØ¶ ÙˆØªØ®ÙÙŠØ¶Ø§Øª Ù…Ø³ØªÙ…Ø±Ø© Ø¹Ù„Ù‰ Ù…Ø®ØªÙ„Ù Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª.</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-headset"></i>
                        </div>
                        <h3>Ø¯Ø¹Ù… ÙÙ†ÙŠ 24/7</h3>
                        <p>ÙØ±ÙŠÙ‚ Ø¯Ø¹Ù… ÙÙ†ÙŠ Ù…ØªØ§Ø­ Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø© Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø§Ø³ØªÙØ³Ø§Ø±Ø§ØªÙƒÙ… ÙˆØ§Ø³ØªÙ‚Ø¨Ø§Ù„ Ø·Ù„Ø¨Ø§ØªÙƒÙ….</p>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- ØµÙØ­Ø© Ø§Ù„Ø¹Ø±ÙˆØ¶ -->
        <section id="offers-page" class="page">
            <div class="container">
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ -->
                <div class="offers-banner">
                    <div>
                        <h1>ğŸ‰ Ø¹Ø±ÙˆØ¶ Ø®Ø§ØµØ© Ù„Ø§ ØªÙØ¹ÙˆØ¶!</h1>
                        <p>Ø§Ø³ØªÙØ¯ Ù…Ù† Ø¹Ø±ÙˆØ¶Ù†Ø§ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©</p>
                    </div>
                    
                    <!-- Ø¹Ø¯Ø§Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ Ù„Ù„Ø¹Ø±ÙˆØ¶ -->
                    <div class="timer">
                        <div class="timer-item">
                            <span class="timer-value" id="days">00</span>
                            <span class="timer-label">Ø£ÙŠØ§Ù…</span>
                        </div>
                        <div class="timer-item">
                            <span class="timer-value" id="hours">00</span>
                            <span class="timer-label">Ø³Ø§Ø¹Ø§Øª</span>
                        </div>
                        <div class="timer-item">
                            <span class="timer-value" id="minutes">00</span>
                            <span class="timer-label">Ø¯Ù‚Ø§Ø¦Ù‚</span>
                        </div>
                        <div class="timer-item">
                            <span class="timer-value" id="seconds">00</span>
                            <span class="timer-label">Ø«ÙˆØ§Ù†ÙŠ</span>
                        </div>
                    </div>
                </div>
                
                <!-- Ù‚Ø³Ù… Ø§Ù„Ø¹Ø±ÙˆØ¶ -->
                <div class="section-header">
                    <h2>Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©</h2>
                    <p>ØªØµÙØ­ Ù…Ù†ØªØ¬Ø§ØªÙ†Ø§ Ø§Ù„Ù…Ø¹Ø±ÙˆØ¶Ø© Ø¨Ø®ØµÙˆÙ…Ø§Øª ÙˆØ¹Ø±ÙˆØ¶ Ø­ØµØ±ÙŠØ©</p>
                </div>
                
                <div id="offers-grid" class="products-grid"></div>
                
                <div id="no-offers" class="empty-state" style="display: none;">
                    <i class="fas fa-percentage"></i>
                    <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶ Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
                    <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ø±ÙˆØ¶ Ù†Ø´Ø·Ø© ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ø§Ù„ÙŠØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                </div>
            </div>
        </section>
        
        <!-- ØµÙØ­Ø© Ø§ØªØµÙ„ Ø¨Ù†Ø§ -->
        <section id="contact-page" class="page">
            <div class="container">
                <div class="section-header">
                    <h2>Ø§ØªØµÙ„ Ø¨Ù†Ø§</h2>
                    <p>Ù†Ø­Ù† Ù‡Ù†Ø§ Ù„Ø®Ø¯Ù…ØªÙƒÙ… Ø¹Ù„Ù‰ Ù…Ø¯Ø§Ø± Ø§Ù„Ø³Ø§Ø¹Ø©</p>
                </div>
                
                <div class="contact-container">
                    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ -->
                    <div class="contact-info">
                        <h3>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h3>
                        
                        <div class="contact-details">
                            <!-- Ø¹Ù†ÙˆØ§Ù† -->
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-map-marker-alt"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</h4>
                                    <p id="contact-address">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                                </div>
                            </div>
                            
                            <!-- Ù‡Ø§ØªÙ -->
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-phone"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Ø§Ù„Ù‡Ø§ØªÙ</h4>
                                    <p id="contact-phone">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                                </div>
                            </div>
                            
                            <!-- ÙˆØ§ØªØ³Ø§Ø¨ -->
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fab fa-whatsapp"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>ÙˆØ§ØªØ³Ø§Ø¨</h4>
                                    <p id="contact-whatsapp">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                                </div>
                            </div>
                            
                            <!-- Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ -->
                            <div class="contact-item">
                                <div class="contact-icon">
                                    <i class="fas fa-envelope"></i>
                                </div>
                                <div class="contact-text">
                                    <h4>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h4>
                                    <p id="contact-email">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
                    <div>
                        <h3 style="font-size: var(--font-xl); margin-bottom: var(--space-lg); color: var(--primary-color);">
                            Ù…ÙˆÙ‚Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©
                        </h3>
                        <div id="map"></div>
                    </div>
                </div>
                
                <!-- Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ -->
                <div class="feature-card" style="max-width: 800px; margin: var(--space-2xl) auto 0;">
                    <h3 style="text-align: center; margin-bottom: var(--space-lg); color: var(--primary-color);">
                        Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„
                    </h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-lg); text-align: center;">
                        <div>
                            <h4 style="color: var(--secondary-color); margin-bottom: var(--space-sm);">
                                Ø£ÙŠØ§Ù… Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹
                            </h4>
                            <p id="working-hours">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <!-- ğŸ¨ Ø§Ù„ÙÙˆØªØ± -->
    <footer>
        <div class="container">
            <div class="footer-container">
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ØªØ¬Ø± -->
                <div class="footer-logo">
                    <h3 id="footer-store-name">Ù…ØªØ¬Ø±Ùƒ ğŸ›’</h3>
                    <p id="footer-store-description">Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©</p>
                </div>
                
                <!-- Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø© -->
                <div class="footer-links">
                    <h4>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                    <ul>
                        <li><a href="#" data-page="home"><i class="fas fa-chevron-left"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li><a href="#" data-page="about"><i class="fas fa-chevron-left"></i> Ø­ÙˆÙ„Ù†Ø§</a></li>
                        <li><a href="#" data-page="offers"><i class="fas fa-chevron-left"></i> Ø§Ù„Ø¹Ø±ÙˆØ¶</a></li>
                        <li><a href="#" data-page="contact"><i class="fas fa-chevron-left"></i> Ø§ØªØµÙ„ Ø¨Ù†Ø§</a></li>
                    </ul>
                </div>
                
                <!-- ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„ -->
                <div class="footer-links">
                    <h4>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h4>
                    <ul>
                        <li><a href="#" id="footer-phone"><i class="fas fa-phone"></i> <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span></a></li>
                        <li><a href="#" id="footer-whatsapp"><i class="fab fa-whatsapp"></i> <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span></a></li>
                        <li><a href="#" id="footer-email"><i class="fas fa-envelope"></i> <span>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</span></a></li>
                    </ul>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p id="footer-copyright">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; <span id="current-year"></span> <span id="copyright-store-name">Ù…ØªØ¬Ø±Ùƒ</span></p>
            </div>
        </div>
    </footer>
    
    <!-- ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª (Ù…ÙˆØ¯Ø§Ù„) -->
    <div id="cartModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-shopping-cart"></i> Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h3>
                <button class="close-modal" onclick="closeCart()">&times;</button>
            </div>
            
            <div id="cart-items" class="cart-items-container">
                <div class="empty-state">
                    <i class="fas fa-shopping-basket"></i>
                    <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙØ§Ø±ØºØ©</h3>
                    <p>Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯</p>
                </div>
            </div>
            
            <div class="cart-summary" id="cart-summary" style="display:none;">
                <div class="total-row">
                    <span class="total-label">Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ:</span>
                    <span class="total-value" id="cart-total">0</span>
                </div>

                <details class="customer-details">
                    <summary>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø§Ø¶ØºØ· Ù„Ù„ÙØªØ­)</summary>
                    <div class="form-group">
                        <input type="text" id="cust-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ±ÙŠÙ… *" required>
                    </div>
                    <div class="form-group">
                        <textarea id="cust-address" rows="3" placeholder="Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø¨Ø§Ù„ØªÙØµÙŠÙ„ *" required></textarea>
                    </div>
                </details>

                <button class="checkout-btn" onclick="checkout()">
                    <i class="fab fa-whatsapp"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
                </button>
            </div>
        </div>
    </div>
    
    <!-- ğŸ¨ Ø²Ø± Ø§Ù„ÙØ§Ø¨ Ù„Ù„Ø³Ù„Ø© -->
    <div class="fab" onclick="openCart()">
        <i class="fas fa-shopping-basket"></i>
    </div>
    
    <!-- ğŸ—ºï¸ Ù…ÙƒØªØ¨Ø© Ø®Ø±Ø§Ø¦Ø· Leaflet -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        /*
        ==========================================
        âš™ï¸ Ù…Ø±ÙƒØ² Ø§Ù„ØªØ­ÙƒÙ… - Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        ==========================================
        */
        
        // ğŸ”´ 1. Ø§Ø³ØªØ®Ø±Ø§Ø¬ storeId Ù…Ù† URL
        function getStoreIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('storeId') || urlParams.get('store_id');
        }
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ storeId Ù…Ù† URL
        const STORE_ID = getStoreIdFromUrl();
        
        if (!STORE_ID) {
            // Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù‡Ù†Ø§Ùƒ storeIdØŒ Ù†Ø·Ù„Ø¨ Ù…Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø¯Ø®Ø§Ù„Ù‡
            document.body.innerHTML = `
                <div style="text-align: center; padding: 50px; font-family: 'Tajawal', sans-serif;">
                    <h1 style="color: #2c3e50;">ğŸš€ Ù…Ù†ØµØ© Ù…ØªØ§Ø¬Ø± Ù…ØªØ¹Ø¯Ø¯Ø©</h1>
                    <p style="margin: 20px 0;">Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø± (storeId):</p>
                    <input type="text" id="storeIdInput" placeholder="Ø£Ø¯Ø®Ù„ storeId Ù‡Ù†Ø§" 
                           style="padding: 12px; width: 300px; max-width: 80%; border: 2px solid #3498db; border-radius: 8px; font-size: 16px;">
                    <br>
                    <button onclick="goToStore()" 
                            style="margin-top: 20px; padding: 12px 30px; background: #3498db; color: white; border: none; border-radius: 8px; font-size: 16px; cursor: pointer;">
                        Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…ØªØ¬Ø±
                    </button>
                    <p style="margin-top: 30px; color: #7f8c8d;">
                        Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø± ÙŠÙƒÙˆÙ† ÙÙŠ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ØªØ¬Ø± Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
                    </p>
                </div>
                <script>
                    function goToStore() {
                        const storeId = document.getElementById('storeIdInput').value.trim();
                        if (storeId) {
                            window.location.href = window.location.pathname + '?storeId=' + encodeURIComponent(storeId);
                        } else {
                            alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø±');
                        }
                    }
                    // Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Enter
                    document.getElementById('storeIdInput').addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') goToStore();
                    });
                <\/script>
            `;
            throw new Error('No storeId provided');
        }
        
        // ğŸ”´ 2. ØªØ­Ø¯ÙŠØ« API URL Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯
        const API_URL = 'https://script.google.com/macros/s/AKfycbxmTLI6-1V7tELp7uvkDnCAMDCp6M5ZPsl4lZFL6KmaBRH9Hc9dqQdsgRDs0deca4RV6w/exec';
        
        // ğŸ”´ 3. Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ©
        let STORE_CONFIG = {
            store_name: 'Ù…ØªØ¬Ø±Ùƒ',
            page_description: 'Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©',
            currency: 'â‚¬',
            phone: '',
            whatsapp: '',
            email: '',
            address: '',
            working_hours: '',
            shipping: false,
            shipping_price: 0,
            has_logo: false
        };
        
        let CUSTOMER_MESSAGE = '';
        let CURRENCY = 'â‚¬';
        let WHATSAPP_NUMBER = '';
        
        // ğŸ”´ 4. Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        let cart = JSON.parse(localStorage.getItem(`store_cart_${STORE_ID}`)) || [];
        let productsData = [];
        let activeCategory = 'Ø§Ù„ÙƒÙ„';
        let currentPage = 'home';
        let mapInitialized = false;
        
        /*
        ==========================================
        ğŸš€ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        ==========================================
        */
        window.addEventListener('DOMContentLoaded', async () => {
            try {
                // ØªØ¹ÙŠÙŠÙ† Ø³Ù†Ø© Ø§Ù„ÙÙˆØªØ±
                document.getElementById('current-year').textContent = new Date().getFullYear();
                
                // 1. Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
                await fetchStoreConfig();
                
                // 2. Ø¬Ù„Ø¨ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ (Ø§Ù„ØªÙŠÙƒØ±) - Ø¨Ø¹Ø¯ Ø¬Ù„Ø¨ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                await fetchCustomerMessage();
                
                // 3. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø´Ø¹Ø§Ø±
                initLogo();
                
                // 4. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
                initNavigation();
                
                // 5. Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
                await fetchProducts();
                
                // 6. ØªÙ‡ÙŠØ¦Ø© Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ø±ÙˆØ¶
                initOfferTimer();
                
                // 7. ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø³Ù„Ø©
                updateCartCount();
                
                // 8. Ø¹Ø±Ø¶ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                showPage(currentPage);
                
            } catch (error) {
                console.error('Initialization error:', error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØªØ¬Ø±: ${error.message}`);
            }
        });
        
        /*
        ==========================================
        ğŸŒ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Sheets
        ==========================================
        */
        async function fetchStoreConfig() {
            try {
                const loading = document.getElementById('loading');
                loading.innerHTML = `
                    <div class="loading-spinner"></div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±...</p>
                    <p style="font-size: 14px; color: #7f8c8d; margin-top: 10px;">
                        Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø±: ${STORE_ID}
                    </p>
                `;
                loading.style.display = 'block';
                
                console.log(`Ø¬Ù„Ø¨ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±: ${STORE_ID}`);
                
                const res = await fetch(`${API_URL}?type=storeConfig&storeId=${STORE_ID}&_ts=${Date.now()}`);
                
                if (!res.ok) {
                    throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${res.status}`);
                }
                
                const json = await res.json();
                console.log('Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±:', json);
                
                if (!json.success) {
                    throw new Error(json.error || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±');
                }
                
                STORE_CONFIG = json.data;
                CURRENCY = STORE_CONFIG.currency || 'â‚¬';
                WHATSAPP_NUMBER = STORE_CONFIG.whatsapp || STORE_CONFIG.phone || '';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø¨Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                updatePageWithStoreConfig();
                
            } catch (error) {
                console.error('Error fetching store config:', error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±: ${error.message}`);
                throw error;
            }
        }
        
        async function fetchCustomerMessage() {
            try {
                console.log(`Ø¬Ù„Ø¨ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„: ${STORE_ID}`);
                
                // Ù†Ø­Ø§ÙˆÙ„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙˆØ¹ Ù…Ø®ØªÙ„Ù Ù…Ù† Ø§Ù„Ø·Ù„Ø¨Ø§Øª
                const res = await fetch(`${API_URL}?type=customerMessage&storeId=${STORE_ID}&_ts=${Date.now()}`);
                
                if (!res.ok) {
                    console.warn('ÙØ´Ù„ Ø¬Ù„Ø¨ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ ØªØ®Ø·ÙŠ...');
                    return;
                }
                
                const json = await res.json();
                console.log('Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø¹Ù…ÙŠÙ„:', json);
                
                if (json.success && json.message) {
                    CUSTOMER_MESSAGE = json.message;
                    showTicker(CUSTOMER_MESSAGE);
                }
            } catch (error) {
                console.warn('Error fetching customer message (non-critical):', error);
                // Ù„Ø§ Ù†Ø¹Ø±Ø¶ Ø®Ø·Ø£ Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø£Ù† Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø© Ø¥Ø¶Ø§ÙÙŠØ©
            }
        }
        
        async function fetchProducts() {
            try {
                const loading = document.getElementById('loading');
                loading.innerHTML = `
                    <div class="loading-spinner"></div>
                    <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª...</p>
                `;
                
                console.log(`Ø¬Ù„Ø¨ Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±: ${STORE_ID}`);
                
                const res = await fetch(`${API_URL}?type=products&storeId=${STORE_ID}&_ts=${Date.now()}`);
                
                if (!res.ok) {
                    throw new Error(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${res.status}`);
                }
                
                const json = await res.json();
                console.log('Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª:', json);
                
                if (!json.success) {
                    // Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ù†ØªØ¬Ø§ØªØŒ Ù„Ø§ Ù†Ø±Ù…ÙŠ Ø®Ø·Ø£ØŒ Ø¨Ù„ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù…Ù†Ø§Ø³Ø¨Ø©
                    if (json.error && json.error.includes('not found')) {
                        productsData = [];
                        loading.style.display = 'none';
                        document.getElementById('products-grid').innerHTML = `
                            <div class="empty-state">
                                <i class="fas fa-box-open"></i>
                                <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
                                <p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                                <p style="font-size: 12px; color: #95a5a6; margin-top: 10px;">
                                    Ø®Ø·Ø£ ØªÙ‚Ù†ÙŠ: ${json.error}
                                </p>
                            </div>
                        `;
                        return;
                    }
                    throw new Error(json.error || 'ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª');
                }
                
                productsData = (json.products || []).filter(p => p.name && String(p.name).trim() !== '');
                
                loading.style.display = 'none';
                
                if (productsData.length === 0) {
                    document.getElementById('products-grid').innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-box-open"></i>
                            <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</h3>
                            <p>Ù„Ù… ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬Ø§Øª Ø¨Ø¹Ø¯ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                        </div>
                    `;
                    return;
                }
                
                renderCategories(productsData);
                renderAllProducts(productsData);
                renderOfferProducts();
                
            } catch (error) {
                console.error('Error fetching products:', error);
                showError(`Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª: ${error.message}`);
                throw error;
            }
        }
        
        /*
        ==========================================
        ğŸ–¼ï¸ ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙØ­Ø© Ø¨Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØ¬Ø±
        ==========================================
        */
        function updatePageWithStoreConfig() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
            const storeName = STORE_CONFIG.store_name || 'Ù…ØªØ¬Ø±Ùƒ';
            document.title = `${storeName} | Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©`;
            document.getElementById('page-title').textContent = `${storeName} | Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©`;
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‡ÙŠØ¯Ø±
            document.getElementById('store-name').textContent = storeName;
            document.getElementById('store-slogan').textContent = STORE_CONFIG.page_description || 'Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©';
            
            // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø­ÙˆÙ„Ù†Ø§
            document.getElementById('about-title').textContent = `Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨ÙƒÙ… ÙÙŠ ${storeName} ğŸ›’`;
            document.getElementById('about-description').textContent = STORE_CONFIG.page_description || 'Ù†Ø­Ù† Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©ØŒ Ù…Ø¹ Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø·Ø¹Ù… Ø§Ù„Ø£ØµÙ„ÙŠ.';
            
            // ØªØ­Ø¯ÙŠØ« ØµÙØ­Ø© Ø§ØªØµÙ„ Ø¨Ù†Ø§
            if (STORE_CONFIG.address) {
                document.getElementById('contact-address').innerHTML = STORE_CONFIG.address.replace(/\n/g, '<br>');
            } else {
                document.getElementById('contact-address').textContent = 'Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø¹Ù†ÙˆØ§Ù†';
            }
            
            if (STORE_CONFIG.phone) {
                document.getElementById('contact-phone').textContent = STORE_CONFIG.phone;
                document.getElementById('footer-phone').innerHTML = `<i class="fas fa-phone"></i> ${STORE_CONFIG.phone}`;
                document.getElementById('footer-phone').href = `tel:${STORE_CONFIG.phone}`;
            }
            
            if (STORE_CONFIG.whatsapp) {
                document.getElementById('contact-whatsapp').textContent = STORE_CONFIG.whatsapp;
                document.getElementById('footer-whatsapp').innerHTML = `<i class="fab fa-whatsapp"></i> ${STORE_CONFIG.whatsapp}`;
                document.getElementById('footer-whatsapp').href = `https://wa.me/${STORE_CONFIG.whatsapp.replace(/\D/g, '')}`;
            }
            
            if (STORE_CONFIG.email) {
                document.getElementById('contact-email').textContent = STORE_CONFIG.email;
                document.getElementById('footer-email').innerHTML = `<i class="fas fa-envelope"></i> ${STORE_CONFIG.email}`;
                document.getElementById('footer-email').href = `mailto:${STORE_CONFIG.email}`;
            }
            
            if (STORE_CONFIG.working_hours) {
                document.getElementById('working-hours').innerHTML = STORE_CONFIG.working_hours.replace(/\n/g, '<br>');
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙÙˆØªØ±
            document.getElementById('footer-store-name').textContent = `${storeName} ğŸ›’`;
            document.getElementById('footer-store-description').textContent = STORE_CONFIG.page_description || 'Ø£Ø¬ÙˆØ¯ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ©';
            document.getElementById('copyright-store-name').textContent = storeName;
        }
        
        /*
        ==========================================
        ğŸ“¢ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙŠÙƒØ± (Laufband)
        ==========================================
        */
        function showTicker(message) {
            if (!message || message.trim() === '') return;
            
            const ticker = document.getElementById('header-ticker');
            const tickerText = document.getElementById('ticker-text');
            
            tickerText.textContent = message;
            ticker.style.display = 'block';
            
            // ØªØ¹Ø¯ÙŠÙ„ padding-top Ù„Ù„Ø¬Ø³Ù… Ù„ÙŠØªÙ†Ø§Ø³Ø¨ Ù…Ø¹ Ø§Ù„ØªÙŠÙƒØ±
            document.body.classList.add('has-ticker');
        }
        
        /*
        ==========================================
        ğŸ§® ÙˆØ¸Ø§Ø¦Ù Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        ==========================================
        */
        function checkBooleanValue(value) {
            if (value === null || value === undefined) return false;
            if (typeof value === 'boolean') return value;
            if (typeof value === 'number') return value !== 0;
            
            const strValue = String(value).toLowerCase().trim();
            return (
                strValue === 'true' || 
                strValue === 'yes' || 
                strValue === '1' || 
                strValue === 'Ù†Ø¹Ù…' ||
                strValue === 'âœ“' ||
                strValue === 'âœ”' ||
                strValue === 'ØµØ­ÙŠØ­' ||
                strValue === 'ØµØ­' ||
                strValue === 'ÙØ¹Ø§Ù„'
            );
        }
        
        function isProductActive(product) {
            return checkBooleanValue(product.productActive ?? product.product_active);
        }
        
        function unitLabel(raw) {
            if (!raw) return '';
            const k = String(raw).trim().toLowerCase();
            const map = {
                'g': 'ØºØ±Ø§Ù…', 'gram': 'ØºØ±Ø§Ù…', 'gramm': 'ØºØ±Ø§Ù…',
                'kg': 'ÙƒÙŠÙ„ÙˆØºØ±Ø§Ù…', 'kilo': 'ÙƒØº',
                'ml': 'Ù…Ù„', 'milliliter': 'Ù…Ù„',
                'l': 'Ù„ØªØ±', 'liter': 'Ù„ØªØ±',
                'pcs': 'Ù‚Ø·Ø¹Ø©', 'pc': 'Ù‚Ø·Ø¹Ø©', 'piece': 'Ù‚Ø·Ø¹Ø©',
                'stk': 'Ù‚Ø·Ø¹Ø©', 'stÃ¼ck': 'Ù‚Ø·Ø¹Ø©', 'stueck': 'Ù‚Ø·Ø¹Ø©',
            };
            return map[k] || raw;
        }
        
        function hasOffer(product) {
            return checkBooleanValue(product.hasOffer ?? product.has_offer);
        }
        
        function isOfferActive(product) {
            const activeFlag = product.offerAktive ?? product.offerActive ?? product.offer_aktive ?? product.offer_active;
            if (!checkBooleanValue(activeFlag)) return false;
            
            const now = new Date();
            const startRaw = product.offerStartDate ?? product.offer_start_date;
            const endRaw = product.offerEndDate ?? product.offer_end_date;
            
            const startDate = startRaw ? parseDate(startRaw) : null;
            const endDate = endRaw ? parseDate(endRaw) : null;
            
            if (startDate && endDate) {
                try {
                    const endOfDay = new Date(endDate);
                    endOfDay.setHours(23, 59, 59, 999);
                    if (now < startDate || now > endOfDay) return false;
                } catch (e) {
                    console.warn('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¹Ø±Ø¶:', e);
                    return false;
                }
            }
            
            return true;
        }
        
        function parseDate(dateString) {
            if (!dateString) return null;
            
            try {
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ® Ù…Ø¨Ø§Ø´Ø±Ø©
                const date = new Date(dateString);
                if (!isNaN(date.getTime())) {
                    return date;
                }
                
                // Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø®ØªÙ„ÙØ©
                const str = String(dateString).trim();
                
                // DD.MM.YYYY
                if (str.match(/^\d{1,2}\.\d{1,2}\.\d{4}$/)) {
                    const parts = str.split('.');
                    return new Date(parts[2], parts[1] - 1, parts[0]);
                }
                
                // DD/MM/YYYY
                if (str.match(/^\d{1,2}\/\d{1,2}\/\d{4}$/)) {
                    const parts = str.split('/');
                    return new Date(parts[2], parts[1] - 1, parts[0]);
                }
                
                // YYYY-MM-DD
                if (str.match(/^\d{4}-\d{1,2}-\d{1,2}$/)) {
                    return new Date(str);
                }
                
                return null;
            } catch (e) {
                console.warn('ÙØ´Ù„ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ§Ø±ÙŠØ®:', dateString, e);
                return null;
            }
        }
        
        function cleanPercent(percentValue) {
            if (percentValue === null || percentValue === undefined || percentValue === '') return 0;
            
            if (typeof percentValue === 'number') {
                if (percentValue > 0 && percentValue <= 1) {
                    return parseFloat((percentValue * 100).toFixed(2));
                }
                return parseFloat(percentValue);
            }
            
            let str = String(percentValue).trim();
            str = str.replace('%', '').replace('Ùª', '');
            str = str.replace(',', '.');
            
            const num = parseFloat(str);
            if (isNaN(num)) return 0;
            
            if (num > 0 && num <= 1) return parseFloat((num * 100).toFixed(2));
            
            return num;
        }
        
        function calculatePrice(product) {
            const originalPrice = parseFloat(product.price) || 0;
            let finalPrice = originalPrice;
            let hasDiscount = false;
            let hasBundle = false;
            let discountPercent = 0;
            let bundleInfo = null;
            let bundleText = '';
            
            const offerTypeRaw = (product.offerType ?? product.offer_type ?? '').toString().toLowerCase();
            const percentRaw = product.percent ?? product.offerPercent ?? product.offer_percent ?? 0;
            const bundleQtyRaw = product.bundleQty ?? product.bundle_qty ?? 1;
            const bundlePriceRaw = product.bundlePrice ?? product.bundle_price ?? originalPrice;
            
            if (hasOffer(product) && isOfferActive(product)) {
                if (offerTypeRaw.includes('percent') || offerTypeRaw.includes('rabatt') || offerTypeRaw.includes('discount')) {
                    discountPercent = cleanPercent(percentRaw);
                    
                    if (discountPercent > 0 && discountPercent <= 100) {
                        finalPrice = originalPrice - (originalPrice * discountPercent / 100);
                        hasDiscount = true;
                    }
                } else if (offerTypeRaw.includes('bundle')) {
                    const bundleQty = parseInt(bundleQtyRaw) || 1;
                    const bundlePrice = parseFloat(bundlePriceRaw) || originalPrice;
                    
                    if (bundleQty > 1 && bundlePrice > 0) {
                        hasBundle = true;
                        bundleInfo = {
                            qty: bundleQty,
                            price: bundlePrice,
                            unitPrice: bundlePrice / bundleQty
                        };
                        bundleText = `${bundleQty} Ø¨Ù€ ${bundlePrice.toFixed(2)}${CURRENCY}`;
                    }
                }
            }
            
            return {
                originalPrice: originalPrice,
                finalPrice: parseFloat(finalPrice.toFixed(2)),
                hasDiscount: hasDiscount,
                hasBundle: hasBundle,
                bundleInfo: bundleInfo,
                discountPercent: discountPercent,
                bundleText: bundleText
            };
        }
        
        function calculateCartItemPrice(item) {
            let total = 0;
            
            if (item.hasBundle && item.bundleInfo) {
                const bundles = Math.floor(item.qty / item.bundleInfo.qty);
                const remainder = item.qty % item.bundleInfo.qty;
                total = (bundles * item.bundleInfo.price) + (remainder * item.originalPrice);
            } else if (item.hasDiscount) {
                total = item.finalPrice * item.qty;
            } else {
                total = item.originalPrice * item.qty;
            }
            
            return parseFloat(total.toFixed(2));
        }
        
        /*
        ==========================================
        ğŸ–¼ï¸ ÙˆØ¸Ø§Ø¦Ù Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
        ==========================================
        */
        function convertDriveLink(url) {
            if (!url) return null;
            if (url.includes('drive.google.com')) {
                const idMatch = url.match(/\/d\/(.*?)\/|id=(.*?)(&|$)/);
                if (idMatch) {
                    const id = idMatch[1] || idMatch[2];
                    return `https://drive.google.com/thumbnail?id=${id}&sz=w1000`;
                }
            }
            return url;
        }
        
        function renderAllProducts(products) {
            let filtered = products;
            if (activeCategory !== 'Ø§Ù„ÙƒÙ„') {
                filtered = products.filter(p => p.category && p.category.trim() === activeCategory);
            }
            
            const activeProducts = [];
            const inactiveProducts = [];
            
            filtered.forEach(p => {
                if (isProductActive(p)) {
                    activeProducts.push(p);
                } else {
                    inactiveProducts.push(p);
                }
            });
            
            renderGrid('products-grid', activeProducts, false);
            
            const inactiveContainer = document.getElementById('inactive-section');
            const toggleBtn = document.getElementById('inactive-toggle');
            
            if (inactiveProducts.length > 0) {
                toggleBtn.style.display = 'block';
                renderGrid('inactive-grid', inactiveProducts, true);
            } else {
                toggleBtn.style.display = 'none';
                inactiveContainer.style.display = 'none';
            }
        }
        
        function renderGrid(containerId, products, isInactive) {
            const grid = document.getElementById(containerId);
            
            if (products.length === 0 && !isInactive) {
                grid.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-box-open"></i>
                        <h3>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª</h3>
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ù†Ø´Ø·Ø© ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>
                `;
                return;
            }
            
            if (products.length === 0 && isInactive) {
                grid.innerHTML = '';
                return;
            }
            
            grid.innerHTML = '';
            
            products.forEach(p => {
                const pricing = calculatePrice(p);
                const realImg = convertDriveLink(p.image);
                const hasRealImg = realImg && String(realImg).trim() !== '';
                const imgSrc = hasRealImg ? realImg : 'https://via.placeholder.com/300x200?text=No+Image';
                
                let priceHTML = '';
                let badgeHTML = '';
                
                if (pricing.hasDiscount) {
                    priceHTML = `
                        <div class="price-wrapper">
                            <span class="price-old" dir="ltr">${pricing.originalPrice.toFixed(2)} ${CURRENCY}</span>
                            <span class="price-new has-discount" dir="ltr">${pricing.finalPrice.toFixed(2)} ${CURRENCY}</span>
                        </div>`;
                    badgeHTML = `<div class="discount-badge">Ø®ØµÙ… ${pricing.discountPercent}%</div>`;
                } else if (pricing.hasBundle) {
                    priceHTML = `
                        <div class="price-wrapper">
                            <span class="price-old" dir="ltr">${pricing.originalPrice.toFixed(2)} ${CURRENCY}</span>
                            <span class="price-new has-discount" dir="ltr">${pricing.bundleInfo.unitPrice.toFixed(2)} ${CURRENCY}</span>
                        </div>`;
                    badgeHTML = `<div class="bundle-badge">${pricing.bundleText}</div>`;
                } else {
                    priceHTML = `
                        <div class="price-wrapper">
                            <span class="price-new" dir="ltr">${pricing.originalPrice.toFixed(2)} ${CURRENCY}</span>
                        </div>`;
                }
                
                let cardClass = isInactive ? 'product-card inactive' : 'product-card';
                let inactiveBadge = isInactive ? '<div class="inactive-badge">ØºÙŠØ± Ù…ØªÙˆÙØ±</div>' : '';
                let btnState = isInactive ? 'disabled' : '';
                let btnText = isInactive 
                    ? `<i class="fas fa-times"></i> <span class="btn-text">Ù†ÙØ°Øª Ø§Ù„ÙƒÙ…ÙŠØ©</span>` 
                    : `<i class="fas fa-plus"></i> <span class="btn-text">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</span>`;
                let btnClick = isInactive ? '' : `onclick="addToCart('${p.id || p.name}', this)"`;
                
                const sizeValue = p.sizevalue || '';
                const sizeUnit = unitLabel(p.sizeunit || '');
                const sizeDisplay = sizeValue && sizeUnit ? 
                    `<div class="product-size"><i class="fas fa-weight-hanging"></i> Ø§Ù„Ø­Ø¬Ù…: ${sizeValue} ${sizeUnit}</div>` : '';
                
                grid.innerHTML += `
                    <div class="${cardClass}">
                        <div class="product-image-container">
                            <img src="${imgSrc}" class="product-image" loading="lazy" alt="${p.name}" 
                                 onerror="this.src='https://via.placeholder.com/300x200?text=No+Image'" 
                                 referrerpolicy="no-referrer">
                            <div class="product-badges">
                                ${badgeHTML}
                                ${inactiveBadge}
                            </div>
                        </div>
                        
                        <div class="product-info">
                            <h3 class="product-title">${p.name}</h3>
                            ${sizeDisplay}
                            <div class="product-desc-wrapper">
                                <p class="product-desc">${p.description || ''}</p>
                            </div>
                            
                            <div class="price-container">
                                ${priceHTML}
                                <button class="add-btn" ${btnClick} ${btnState}>
                                    ${btnText}
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }
        
        function renderOfferProducts() {
            const offersGrid = document.getElementById('offers-grid');
            const noOffers = document.getElementById('no-offers');
            
            if (!productsData || productsData.length === 0) {
                offersGrid.innerHTML = '';
                noOffers.style.display = 'block';
                return;
            }
            
            const offerProducts = productsData.filter(p => {
                return isProductActive(p) && hasOffer(p) && isOfferActive(p);
            });
            
            if (offerProducts.length === 0) {
                offersGrid.innerHTML = '';
                noOffers.style.display = 'block';
                return;
            }
            
            noOffers.style.display = 'none';
            offersGrid.innerHTML = '';
            
            offerProducts.forEach(p => {
                const pricing = calculatePrice(p);
                const realImg = convertDriveLink(p.image);
                const hasRealImg = realImg && String(realImg).trim() !== '';
                const imgSrc = hasRealImg ? realImg : 'https://via.placeholder.com/300x200?text=No+Image';
                
                let priceHTML = '';
                let badgeHTML = '';
                
                if (pricing.hasDiscount) {
                    priceHTML = `
                        <div class="price-wrapper">
                            <span class="price-old" dir="ltr">${pricing.originalPrice.toFixed(2)} ${CURRENCY}</span>
                            <span class="price-new has-discount" dir="ltr">${pricing.finalPrice.toFixed(2)} ${CURRENCY}</span>
                        </div>`;
                    badgeHTML = `<div class="discount-badge">Ø®ØµÙ… ${pricing.discountPercent}%</div>`;
                } else if (pricing.hasBundle) {
                    priceHTML = `
                        <div class="price-wrapper">
                            <span class="price-old" dir="ltr">${pricing.originalPrice.toFixed(2)} ${CURRENCY}</span>
                            <span class="price-new has-discount" dir="ltr">${pricing.bundleInfo.unitPrice.toFixed(2)} ${CURRENCY}</span>
                        </div>`;
                    badgeHTML = `<div class="bundle-badge">${pricing.bundleText}</div>`;
                }
                
                const sizeValue = p.sizevalue || '';
                const sizeUnit = unitLabel(p.sizeunit || '');
                const sizeDisplay = sizeValue && sizeUnit ? 
                    `<div class="product-size"><i class="fas fa-weight-hanging"></i> Ø§Ù„Ø­Ø¬Ù…: ${sizeValue} ${sizeUnit}</div>` : '';
                
                offersGrid.innerHTML += `
                    <div class="product-card">
                        <div class="product-image-container">
                            <img src="${imgSrc}" class="product-image" loading="lazy" alt="${p.name}" 
                                 onerror="this.src='https://via.placeholder.com/300x200?text=No+Image'"
                                 referrerpolicy="no-referrer">
                            <div class="product-badges">
                                ${badgeHTML}
                            </div>
                        </div>
                        
                        <div class="product-info">
                            <h3 class="product-title">${p.name}</h3>
                            ${sizeDisplay}
                            <div class="product-desc-wrapper">
                                <p class="product-desc">${p.description || ''}</p>
                            </div>
                            
                            <div class="price-container">
                                ${priceHTML}
                                <button class="add-btn" onclick="addToCart('${p.id || p.name}', this)">
                                    <i class="fas fa-plus"></i>
                                    <span class="btn-text">Ø£Ø¶Ù Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø©</span>
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            });
        }
        
        function renderCategories(products) {
            const nav = document.getElementById('category-nav');
            const rawCategories = products.map(p => p.category);
            const uniqueCategories = [...new Set(rawCategories.filter(c => c && c.trim() !== ''))];
            
            if (uniqueCategories.length > 0) {
                nav.style.display = 'block';
                nav.innerHTML = '';
                
                const allBtn = document.createElement('button');
                allBtn.className = 'cat-btn active';
                allBtn.innerHTML = '<i class="fas fa-th-large"></i> Ø§Ù„ÙƒÙ„';
                allBtn.onclick = () => filterProducts('Ø§Ù„ÙƒÙ„', allBtn);
                nav.appendChild(allBtn);
                
                uniqueCategories.forEach(cat => {
                    const btn = document.createElement('button');
                    btn.className = 'cat-btn';
                    btn.innerHTML = `<i class="fas fa-tag"></i> ${cat}`;
                    btn.onclick = () => filterProducts(cat, btn);
                    nav.appendChild(btn);
                });
            }
        }
        
        function filterProducts(category, btnElement) {
            activeCategory = category;
            document.querySelectorAll('#category-nav .cat-btn').forEach(b => b.classList.remove('active'));
            if (btnElement) btnElement.classList.add('active');
            renderAllProducts(productsData);
        }
        
        function toggleInactive() {
            const section = document.getElementById('inactive-section');
            const btn = document.querySelector('.toggle-inactive-btn');
            
            if (section.style.display === 'none') {
                section.style.display = 'block';
                btn.innerHTML = `<i class="fas fa-eye-slash"></i> Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø©`;
            } else {
                section.style.display = 'none';
                btn.innerHTML = `<i class="fas fa-eye"></i> Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø©`;
            }
        }
        
        /*
        ==========================================
        ğŸ—ºï¸ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
        ==========================================
        */
        function initNavigation() {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            document.querySelectorAll('footer a[data-page]').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const page = this.getAttribute('data-page');
                    navigateToPage(page);
                });
            });
            
            document.getElementById('mobileToggle').addEventListener('click', function() {
                document.getElementById('navMenu').classList.toggle('active');
                this.innerHTML = document.getElementById('navMenu').classList.contains('active') 
                    ? '<i class="fas fa-times"></i>' 
                    : '<i class="fas fa-bars"></i>';
            });
            
            document.querySelectorAll('.nav-link').forEach(link => {
                link.addEventListener('click', function() {
                    document.getElementById('navMenu').classList.remove('active');
                    document.getElementById('mobileToggle').innerHTML = '<i class="fas fa-bars"></i>';
                });
            });
        }
        
        function navigateToPage(page) {
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-page') === page) {
                    link.classList.add('active');
                }
            });
            
            showPage(page);
            currentPage = page;
            
            if (page === 'offers') {
                renderOfferProducts();
            }
        }
        
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
            });
            
            const pageElement = document.getElementById(`${page}-page`);
            if (pageElement) {
                pageElement.classList.add('active');
            }
            closeCart();
        }
        
        /*
        ==========================================
        ğŸ›’ ÙˆØ¸Ø§Ø¦Ù Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª
        ==========================================
        */
        function addToCart(identifier, btn) {
            const product = productsData.find(p => (p.id || p.name) == identifier);
            if (!product) return;
            
            const pricing = calculatePrice(product);
            const existingItem = cart.find(item => item.id === (product.id || product.name));
            
            if (existingItem) {
                existingItem.qty++;
            } else {
                const cartItem = {
                    id: product.id || product.name,
                    name: product.name,
                    originalPrice: pricing.originalPrice,
                    finalPrice: pricing.finalPrice,
                    hasDiscount: pricing.hasDiscount,
                    hasBundle: pricing.hasBundle,
                    bundleInfo: pricing.bundleInfo,
                    bundleText: pricing.bundleText,
                    qty: 1,
                    sizeValue: product.sizevalue,
                    sizeUnit: product.sizeunit
                };
                cart.push(cartItem);
            }
            
            saveCart();
            updateCartCount();
            
            if (btn) {
                const originalHTML = btn.innerHTML;
                btn.innerHTML = '<i class="fas fa-check"></i> ØªÙ…Øª Ø§Ù„Ø¥Ø¶Ø§ÙØ©';
                btn.style.background = 'var(--accent-color)';
                
                setTimeout(() => {
                    btn.innerHTML = originalHTML;
                    btn.style.background = '';
                }, 2000);
            }
        }
        
        function saveCart() {
            localStorage.setItem(`store_cart_${STORE_ID}`, JSON.stringify(cart));
            renderCartItems();
        }
        
        function updateCartCount() {
            const count = cart.reduce((acc, item) => acc + item.qty, 0);
            document.getElementById('cart-badge').innerText = count;
        }
        
        function changeQty(id, change) {
            const item = cart.find(i => i.id === id);
            if (item) {
                item.qty += change;
                if (item.qty <= 0) {
                    cart = cart.filter(i => i.id !== id);
                }
                saveCart();
            }
        }
        
        function renderCartItems() {
            const container = document.getElementById('cart-items');
            const summary = document.getElementById('cart-summary');
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <i class="fas fa-shopping-basket"></i>
                        <h3>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙØ§Ø±ØºØ©</h3>
                        <p>Ù„Ù… ØªÙ‚Ù… Ø¨Ø¥Ø¶Ø§ÙØ© Ø£ÙŠ Ù…Ù†ØªØ¬Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø³Ù„Ø© Ø¨Ø¹Ø¯</p>
                    </div>
                `;
                summary.style.display = 'none';
                return;
            }
            
            summary.style.display = 'block';
            let html = '';
            let total = 0;
            
            cart.forEach(item => {
                const itemTotal = calculateCartItemPrice(item);
                total += itemTotal;
                
                let priceDisplay = '';
                
                if (item.hasBundle && item.bundleInfo) {
                    const bundles = Math.floor(item.qty / item.bundleInfo.qty);
                    const hasAppliedBundle = bundles > 0;
                    
                    if (hasAppliedBundle) {
                        priceDisplay = `
                            <div class="item-price">
                                <span class="old-price">${item.originalPrice.toFixed(2)}${CURRENCY}</span>
                                ${item.bundleInfo.unitPrice.toFixed(2)}${CURRENCY}
                                <div style="font-size:12px;color:var(--accent-color);">(${item.bundleText})</div>
                            </div>`;
                    } else {
                        priceDisplay = `
                            <div class="item-price">
                                ${item.originalPrice.toFixed(2)}${CURRENCY}
                                <div style="font-size:12px;color:var(--gray-color);">
                                    (Ø§Ù„Ø¹Ø±Ø¶ ÙŠØ¨Ø¯Ø£ Ø¹Ù†Ø¯ ${item.bundleInfo.qty})
                                </div>
                            </div>`;
                    }
                } else if (item.hasDiscount) {
                    priceDisplay = `
                        <div class="item-price">
                            <span class="old-price">${item.originalPrice.toFixed(2)}${CURRENCY}</span>
                            ${item.finalPrice.toFixed(2)}${CURRENCY}
                        </div>`;
                } else {
                    priceDisplay = `<div class="item-price">${item.originalPrice.toFixed(2)}${CURRENCY}</div>`;
                }
                
                const sizeInfo = item.sizeValue && item.sizeUnit ? 
                    `<div class="item-size">${item.sizeValue} ${item.sizeUnit}</div>` : '';
                
                html += `
                    <div class="cart-item">
                        <div class="item-info">
                            <h4>${item.name}</h4>
                            ${sizeInfo}
                            ${priceDisplay}
                            <div style="color: var(--accent-color); font-weight: 600; margin-top: 5px;">
                                Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${itemTotal.toFixed(2)}${CURRENCY}
                            </div>
                        </div>
                        <div class="item-controls">
                            <button onclick="changeQty('${item.id}', -1)">-</button>
                            <span class="item-qty">${item.qty}</span>
                            <button onclick="changeQty('${item.id}', 1)">+</button>
                            <button class="remove-item-btn"
                                    onclick="removeFromCart('${item.id}')"
                                    title="Ø­Ø°Ù Ø§Ù„Ù…Ù†ØªØ¬">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
            document.getElementById('cart-total').innerText = total.toFixed(2) + ' ' + CURRENCY;
        }
        
        function removeFromCart(id) {
            cart = cart.filter(item => item.id !== id);
            saveCart();
            updateCartCount();
        }
        
        function openCart() {
            renderCartItems();
            document.getElementById('cartModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeCart() {
            document.getElementById('cartModal').classList.remove('active');
            document.body.style.overflow = '';
        }
        
        document.getElementById('cartModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeCart();
            }
        });
        
        /*
        ==========================================
        ğŸš€ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨
        ==========================================
        */
        function checkout() {
            const name = document.getElementById('cust-name').value;
            const address = document.getElementById('cust-address').value;
            
            if (!name || cart.length === 0) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù„Ø©');
                return;
            }
            
            const storeName = STORE_CONFIG.store_name || 'Ù…ØªØ¬Ø±Ùƒ';
            let msg = `*Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† ${storeName} ğŸ›’*\n`;
            msg += `========================\n`;
            msg += `ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: ${name}\n`;
            msg += `ğŸ“ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: ${address}\n`;
            msg += `ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®: ${new Date().toLocaleDateString('ar-SA')}\n`;
            msg += `â° Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleTimeString('ar-SA', {hour: '2-digit', minute:'2-digit'})}\n`;
            msg += `========================\n`;
            msg += `ğŸ“‹ *Ø§Ù„Ø·Ù„Ø¨Ø§Øª:*\n\n`;
            
            let total = 0;
            let savedAmount = 0;
            
            cart.forEach(item => {
                const itemTotal = calculateCartItemPrice(item);
                total += itemTotal;
                
                const originalTotal = item.originalPrice * item.qty;
                savedAmount += (originalTotal - itemTotal);
                
                msg += `â–ªï¸ ${item.name}\n`;
                if (item.sizeValue && item.sizeUnit) {
                    msg += `   Ø§Ù„Ø­Ø¬Ù…: ${item.sizeValue} ${item.sizeUnit}\n`;
                }
                msg += `   Ø§Ù„ÙƒÙ…ÙŠØ©: ${item.qty}\n`;
                
                if (item.hasBundle && item.bundleInfo) {
                    const bundles = Math.floor(item.qty / item.bundleInfo.qty);
                    
                    if (bundles > 0) {
                        msg += `   Ø§Ù„Ø³Ø¹Ø±: ${item.bundleInfo.unitPrice.toFixed(2)}${CURRENCY} (${item.bundleText})\n`;
                    } else {
                        msg += `   Ø§Ù„Ø³Ø¹Ø±: ${item.originalPrice.toFixed(2)}${CURRENCY} (Ø§Ù„Ø¹Ø±Ø¶ ÙŠØ¨Ø¯Ø£ Ø¹Ù†Ø¯ ${item.bundleInfo.qty})\n`;
                    }
                } else if (item.hasDiscount) {
                    msg += `   Ø§Ù„Ø³Ø¹Ø±: ${item.finalPrice.toFixed(2)}${CURRENCY} (Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ${item.originalPrice.toFixed(2)}${CURRENCY})\n`;
                } else {
                    msg += `   Ø§Ù„Ø³Ø¹Ø±: ${item.originalPrice.toFixed(2)}${CURRENCY}\n`;
                }
                
                msg += `   Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: ${itemTotal.toFixed(2)}${CURRENCY}\n\n`;
            });
            
            msg += `========================\n`;
            if (savedAmount > 0) {
                msg += `ğŸ‰ *Ù„Ù‚Ø¯ ÙˆÙØ±Øª: ${savedAmount.toFixed(2)}${CURRENCY}*\n`;
            }
            msg += `ğŸ’° *Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ: ${total.toFixed(2)}${CURRENCY}*\n`;
            msg += `========================\n`;
            msg += `Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… Ø¨Ù€ ${storeName} ğŸ›’\n`;
            msg += `Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ÙƒÙ… Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ ÙˆØªØ­Ø¯ÙŠØ¯ ÙˆÙ‚Øª Ø§Ù„ØªÙˆØµÙŠÙ„.`;
            
            const whatsappNumber = WHATSAPP_NUMBER.replace(/\D/g, '');
            if (whatsappNumber) {
                window.open(`https://wa.me/${whatsappNumber}?text=${encodeURIComponent(msg)}`, '_blank');
            } else {
                alert('Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„Ù…ØªØ¬Ø±. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ ØµØ§Ø­Ø¨ Ø§Ù„Ù…ØªØ¬Ø±.');
                return;
            }
            
            localStorage.removeItem(`store_cart_${STORE_ID}`);
            cart = [];
            updateCartCount();
            closeCart();
            
            document.getElementById('cust-name').value = '';
            document.getElementById('cust-address').value = '';
            
            showAlert('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.', 'success');
        }
        
        /*
        ==========================================
        â±ï¸ ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶
        ==========================================
        */
        function initOfferTimer() {
            const endDate = new Date();
            endDate.setDate(endDate.getDate() + 7);
            
            function updateTimer() {
                const now = new Date().getTime();
                const distance = endDate - now;
                
                if (distance < 0) {
                    document.querySelector('.timer').innerHTML = '<div>Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¹Ø±ÙˆØ¶</div>';
                    return;
                }
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);
                
                document.getElementById('days').textContent = days.toString().padStart(2, '0');
                document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
                document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
                document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
            }
            
            updateTimer();
            setInterval(updateTimer, 1000);
        }
        
        /*
        ==========================================
        ğŸ–¼ï¸ ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¶Ø§ÙÙŠØ©
        ==========================================
        */
        function initLogo() {
            const logoIcon = document.getElementById('logo-icon');
            if (STORE_CONFIG.has_logo) {
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ Ø´Ø¹Ø§Ø±ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ØµÙˆØ±Ø© Ù‡Ù†Ø§
                logoIcon.innerHTML = `<i class="fas fa-store"></i>`;
            } else {
                logoIcon.innerHTML = `<i class="fas fa-shopping-basket"></i>`;
            }
        }
        
        function showError(message) {
            const errorContainer = document.getElementById('error-container');
            const loading = document.getElementById('loading');
            
            loading.style.display = 'none';
            
            errorContainer.innerHTML = `
                <div class="error-message">
                    <h3>âš ï¸ ${message}</h3>
                    <p>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø®Ø·Ø£:</p>
                    <ul style="text-align: right; margin: 10px 0; padding-right: 20px;">
                        <li>Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø±: <strong>${STORE_ID}</strong></li>
                        <li>Ø±Ø§Ø¨Ø· API: <code>${API_URL}</code></li>
                        <li>Ø§Ù„ÙˆÙ‚Øª: ${new Date().toLocaleString('ar-SA')}</li>
                    </ul>
                    <div style="margin-top: 20px;">
                        <button onclick="location.reload()" 
                                style="padding: 10px 20px; background: var(--primary-color); color: white; border: none; border-radius: 5px; margin: 5px; cursor: pointer;">
                            Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„
                        </button>
                        <button onclick="location.href='?'" 
                                style="padding: 10px 20px; background: var(--secondary-color); color: white; border: none; border-radius: 5px; margin: 5px; cursor: pointer;">
                            ØªØºÙŠÙŠØ± Ø§Ù„Ù…ØªØ¬Ø±
                        </button>
                    </div>
                    <p style="font-size: 12px; color: #7f8c8d; margin-top: 15px;">
                        ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù…Ø¹Ø±Ù Ø§Ù„Ù…ØªØ¬Ø± ØµØ­ÙŠØ­ ÙˆØ£Ù† Ø§Ù„Ù…ØªØ¬Ø± Ù…Ø³Ø¬Ù„ ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù….
                    </p>
                </div>
            `;
        }
        
        function showAlert(message, type = 'success') {
            const alert = document.createElement('div');
            alert.className = `alert alert-${type}`;
            alert.innerHTML = `
                <span>${message}</span>
                <button class="alert-close" onclick="this.parentElement.remove()">&times;</button>
            `;
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ù„Ù„ØªÙ†Ø¨ÙŠÙ‡
            const style = document.createElement('style');
            style.textContent = `
                .alert {
                    padding: 15px;
                    border-radius: 8px;
                    margin: 15px 0;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    animation: slideIn 0.3s ease;
                }
                .alert-success {
                    background-color: rgba(46, 204, 113, 0.1);
                    border-right: 4px solid var(--accent-color);
                    color: var(--accent-color);
                }
                .alert-close {
                    background: none;
                    border: none;
                    color: inherit;
                    font-size: 1.2rem;
                    cursor: pointer;
                }
                @keyframes slideIn {
                    from { opacity: 0; transform: translateY(-10px); }
                    to { opacity: 1; transform: translateY(0); }
                }
            `;
            document.head.appendChild(style);
            
            document.querySelector('.main-content').prepend(alert);
            
            setTimeout(() => {
                if (alert.parentElement) {
                    alert.remove();
                }
            }, 5000);
        }
        
        // Ø¯Ø§Ù„Ø© Ù„ÙØªØ­ ÙˆØ¥ØºÙ„Ø§Ù‚ ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬
        document.addEventListener('click', function(e) {
            const card = e.target.closest('.product-card');
            if (!card) return;
            
            if (e.target.closest('button')) return;
            
            card.classList.toggle('open');
        });
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function initUIEnhancements() {
            // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ±Ø§Øª Ù„Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
            document.addEventListener('mousemove', function(e) {
                const cards = document.querySelectorAll('.product-card:not(.inactive)');
                cards.forEach(card => {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    if (x > 0 && x < rect.width && y > 0 && y < rect.height) {
                        card.style.transform = `translateY(-5px) rotateX(${(y - rect.height/2) * 0.01}deg) rotateY(${(x - rect.width/2) * -0.01}deg)`;
                    } else {
                        card.style.transform = '';
                    }
                });
            });
        }
        
        // ØªÙ‡ÙŠØ¦Ø© ØªØ­Ø³ÙŠÙ†Ø§Øª ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        setTimeout(initUIEnhancements, 1000);
    </script>
</body>
</html>